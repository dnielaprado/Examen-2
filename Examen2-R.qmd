---
title: "Examen2-R"
author: "Daniela Prado Vargas"
format: html
editor: visual
---
Carga paquetes
```{r}
library(tidyverse)
```

1. Abrir tabla
```{r}
moras <- read.table("C:/Users/danie/OneDrive/Escritorio/examen2/moras.txt",
                       header = TRUE,
                       sep = ",",
                       stringsAsFactors = FALSE)
```

2. Resumen de las variables numéricas
```{r}
moras$SALARIO <- as.numeric(gsub(",", ".", moras$SALARIO))
resumen <- summary(moras[sapply(moras, is.numeric)]) 
resumen
```
3. Identificar valores atípicos
```{r}
moras <- moras %>%
  mutate(
    Z_Salario = (SALARIO - mean(SALARIO, na.rm = TRUE)) / sd(SALARIO, na.rm = TRUE),
    Outlier_Salario = ifelse(abs(Z_Salario) > 1.96, "Sí", "No"),
    
    Z_Edad = (EDAD - mean(EDAD, na.rm = TRUE)) / sd(EDAD, na.rm = TRUE),
    Outlier_Edad = ifelse(abs(Z_Edad) > 1.96, "Sí", "No")
  )
```

4. Detección de valores faltantes por colummna
```{r}
moras$TIPO_ASEGURAMIENTO <- na_if(trimws(moras$TIPO_ASEGURAMIENTO), "")
#De excel se detectó que aquí habían NA y al hacer el cálculo de porcentajes salía cero. Al revisar de forma manual me di cuenta que había como un "espacio", por lo que R no lo tomaba como NA.
moras %>%
  summarise(across(everything(), ~mean(is.na(.)) * 100))
```



